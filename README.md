# Swiss Converter

### _A_ Capstone, not _the_ Capstone

I have been ambivalent about what to create for a [boot.dev](https://www.boot.dev) capstone project. Some of the course material suggested making something that isolates certain aspects of backend development. With that mind, I decided to make a conversion tool; it seemed like something where the user interface wouldn't become too complicated so that I can spend more time thinking about backend features, and that's been mostly true. Like the heading says, I will probably work on another project that focuses on different backend features to round things out and learn more.

### Program Flow

```mermaid
flowchart LR

A[GUI in browser] -- Client side requests in JavaScript --> B[handlers.go]
B -- Looks up conversion options --> C[conversion_options.go]
B -- Performs conversion based on selected option --> D[convert.go]
B -- Adds or deletes new conversion to database --> E[sqlite3]
B -- Gets new currency exchange rates --> F[requester.go] --> E
B -- Gets usage data --> E
B -- Sends data back to browser --> A
A -- makes changes in browser based on type of request --> G[] 
```

### Requirements

This tool uses Go (v1.24.4) as its backend language, and Javascript/CSS for its frontend. Installed programs incluse goose, sqlc, and sqlite3 to faciliate database actions. I was using Firefox to observe progress on the frontend; I do not know how much appearance will change in other browsers.

Installation commands:

```terminal
sudo apt install golang-go
```

```terminal
go install github.com/pressly/goose/v3/cmd/goose@latest
``` 

```terminal
go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest
```

Compile and run the program:
```terminal
go build
```

Or just run it from the root of the repository:
```terminal
go run .
```

If you have docker installed, you can use the `Dockerfile` to create an image:

```terminal
docker build -t swiss_converter .
docker run -p 8080:8080 swiss_converter
```

When the program runs, it will also run the migration scripts to build the tables. You also have two scripts, `up_and_generate.sh` and `tear_down.sh` to execute the goose migrations as well.

### Baked-In Conversions

Use the dropdowns to select a conversion and enter the number into the text input.

### Create a New Conversion

Click `Add a New Conversion` to generate the menu for conversion creation. Enter the start type, end type, and conversion rate, and click `Generate Conversion`. The new conversion will populate under the `Custom` category. All customs conversions assume a simple multiplication relationship between units, i.e., pounds to kilograms. It also automatically generates the inverse conversion; example: if you provide miles to kilometers, it will also create kilometers to miles at the reciprocal rate, as well as look for once removed conversions to create, i.e., if kilometers to meters currently exists, it will also create miles to meters. Eventually, I'll want to update to do a more thorough BFS on the custom conversions table to deduce more conversions.

### Delete a Custom Conversion

Click `Delete a Conversion` to generate the menu for removing a custom conversion. It will remove the conversion in both directions.

### Update Currency Conversion Rates

While `Currency` is selected as the category, a button `Update Currencies` will appear. Clicking it will send GET requests to [exchange rates](https://www.exchange-rates.org). A paragraph will appear indicating success. The point of this feature is that it demonstrates reaching out to an external source and having new data in the app. I have no intention of spamming a website with every single currency combination.

### Metrics

Click `Conversion Metrics` to generate a table that shows counts of conversions performed.

### TODO

- Research conversion types that would be worth to bake in, i.e., conversions more complicated than a single multiplication.

### Note

The .ico was generated by an LLM. I really just wanted an actual file to serve for the favicon. If someone has a copyright concern, let me know, and I can swap it out.     
